WEP 协议是不安全的，因为我们的 WEP 协议中我们的 IV 向量是通过我们的一个固定的信息来生成的，从而让我们的对应的密钥消息是类似于明文传输的。

这个时候可以通过嗅探报文来得到一定的量，然后通过这些报文来获取对应的信息。

WPA=802.11+EAP+TKIP（临时密钥完整性协议）+MIC（完整性检验）
WPA 2=802.11+EAP+AES（加强加密协议）+CCMP（数据完整新检验）

同时，我们还会根据我们的 EAP 的不同的安全级别，来决定我们的破解难度不同，我们破解时以来的条件也不同。
## WPA 企业模式：
WPA 企业模式中，存在一个接入点 AP，以及背后的 Radius 服务器。其中 AP 只负责一个中间承担过程，见我们的保温之间进行传输。

1. 这样的过程中，AP 只负责接受一个认证的结果，告诉是否是成果或者失败。如果我们的 Radius 服务器本身是不可靠的（被别人伪造的）。（Hard）

2. 同时，在传统的模式下，我们的对应的信息可以被嗅探，我们的对应的内容是没有被加密的，都是用的 EAP 协议。我们的认证是针对**多个人**，当传输报文的过程是有漏洞的。也就是说这一个**协议是不安全的**。（引入隧道，先建立隧道，再在隧道中建立我们的对应的内容）

3. 我们的上面的协议对于我们的各个连接着的身份是公开的，但是我们并不希望我们的身份被公开。（双重身份，一部分是可以公开的，可以是叫做 public，另一个部分是不可以公开的，是真实的振奋，这一个身份只在我们的隧道中使用，在我们的**隧道内**公布真实的身份）

隧道也就是说，我们讲我们的**不可靠的信道上**安装一个新的可靠的协议，或者说安全的协议。

## EAP
可扩展认证协议，这是一种携带任意其他认证协议的协议, EAP 是一种元协议（meta protocal）。类比于数据库中的元数据。
（关于协议的协议，关于数据的数据，相当于要求我们的协议满足什么样的要求，类似于我们的 C++中的模板，我们可以用我们的 int，或者其他的内容来对我们的内容进行定义）

## 802.11 X
 802.11 协议使用三个地址对于通信的实体进行标识。源地址（MAC），目的地址，基本服务集标识（BSSID）。

考虑一个这样的地址表示是否安全，我们可以从下面的几个角度来考虑：
1. 谁分配我们的地址
2. 我们篡改地址的难度是什么样的，我们能通过什么样的条件来修改我们的对应的内容。篡改后会不会被发现，篡改的难度如何

### 发现 WIFI
我们的上面的地址主要由于我们的服务发现有关，我们的发现通过两种方法，一种是被动式的，在给定的信道上，我们的 AP 会不定期发送我们的 beacon 报文，如果监听到了，就说明存在这一个 wifi。这一种没有痕迹，但是不一定找得到。

另一种是主动式的，网卡会主动向目标主机发送希望得到回应的“探测请求”，收到回应后，就能够分析得到。这样的内容会容易被我们的请求者识别捕获。

探测请求是 802.11 标准的两项技术之一，其作用是用来让客户端寻找一个要关联的网络。探测请求不同于我们额传统的模式，我们可以认为是通过一种非常**简单粗暴的**方法来进行处理。不遵循传统的要 iu。

缺点：除除了一些 beacon 和其他的内容，看不到其他的所有的无线内容。Erie 信标数据并不一定在任意场合都能够获得。我们可以在一定程度上隐藏我们的 beacon。重点包括我们的 beacon 信息和其他的头部。通过对应的名字，我们就可以找到我们的对应的漏洞。

![[Pasted image 20241017115233.png]]

其中比较重要的有：
1. Beacon Interval
2. SSID (推断具体的硬件设备)

## 扫描和主动访问：
我们的扫描的时候，我们是通过发送广播探测请求数据包，而客户端用户会进行扫描，谴责寻找的时候，发送广播贪色 ing 求数据包。另一个是发送定向的数据包。

也就是说，一个是广播，一个是单波（通信模式不同），扫描工具的能力**不会强于操作系统的能力**，只能找到那些现在的操作系统可以看到的内容。（操作系统的干扰和过滤）

## 应对：
1. 针对探测回复包的应对措施：对于所有广播类的请求，一概不予以回复。但如果是单薄类的，则必须予以回复。
2. 针对信标保温的应对：不回应广播式的亲贵报文，但是依然包括我们的服务器表示我们可以通过插入 NULL 代替我们的服务集表示（隐藏模式）。

即：同时禁用“广播侦测回复”和“检查信标中的 SSID 字段”。但是不能完全删除掉所有的 beacon 功能，因为我们需要定位（展示信号强度，同时需要区分方向（东南西北）），还需要同步（wireShark 中**相对于我们的一个固定值的时间差**，也就是规定我们的时间的步调是相同的。规定我们的时间间隔）。

例如我们的 TCP 重传的报文是否是满足我们的二进制退避的规律的。

## 扫描式网卡问题：
被动式扫描，自身不发送数据包，监听给定信道上的所有数据包，然后分析数据包。能更好的查看周围的整个网络，无线网卡的检测模式类似于有限以太网卡的“混杂模式”(promiscuous mode)。

被动式扫描对应的应对措施包括：
1. 禁用 802.11 中的混合模式
2. 选择 802.11 a 中的 5 Ghz 频段
3. 通过自动调整无线发送功率的只能天线，在无数据通信时，降低发送功率。

无线网络同意信道内可以有多个重叠的网路，即检测模式可以监听到统一信道内所有重叠网络的信息。而监听模式可以监听到同一信道内的所有重叠网络的信息。

**无线网络中的标准很混乱**，可能会导致我们的设备异构型。除了和硬件有关，还会与无线网卡上的驱动有关。

