对于一个长达 $512$ 位的随机奇数，我们任选一个数，他作为奇数的概率为 $\frac{2}{\ln(P)}$。这个概率在数值上大概是在 $\frac{1}{177}$ 也就是说，我们随机一个奇数，有很大的概率这个数字是一个奇数。因此，我们可以采用素性检验的方法来对我们的元素进行 check。

## 飞马素性检验：
我们对于一个数，我们不断地检验，是不是满足，对于所有的 $a$,都有 $a^{p-1}\text{mod P}=1$，如果是，我们认为我们的这一个数是一个素数。

但即使使用多个 $a$ 值进行费马测试，某些合数在费马定理中的行为仍然与素数相同，这样的合数就叫卡迈尔克数。给定一个卡迈尔克数 $C$,对所有满足 $\gcd(a,C)=1$ 的整数 $a$, 下面的表达式也始终成立：$a^{C-1}\equiv1{\mathrm{mod}}C$


## Miller-Rabin 检验：
Miller-Rabin 检验基于下面的定理：
定理 7.6.1 给定一个奇素数候选者 $\tilde{\rho}$ 的分解 $\tilde{p}-1=2^ur$ 其中 $r$ 是奇数。如果可以找到一个整数 $a$,使 $a^{\prime}\not\equiv1$ mod $\tilde{p}$ 且 $a^{r2^{\prime}}\not\equiv\tilde{p}-1$ mod $\tilde{p}$，对所有的 $j=\{0,1,\ldots,u-1\}$ 都成立，则 $\tilde{p}$ 是一个合数；否则，它可能是一个素数。

