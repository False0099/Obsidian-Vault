**RIP 协议是建立在应用层的协议**。
## 基本规定：
1) 网络中的每个路由器都要**维护从它自身到其他每个目的网络的距离**记录 (因此这是一组距离，称为距离向量)。
2) 距离也称跳数 (Hop Count),规定从一个路由器到直接连接网络的距离 (跳数)为 1。而每经过一个路由器，距离 (跳数)加 1。
3) RIP 认为好的路由就是它通过的路由器的数目少，即优先选择跳数少的路径。
4) RIP 允许一条路径最多只能包含 15 个路由器 (即最多允许 15 跳)。因此距离等于 16 时，它表示网络不可达。可见 RIP 只适用于小型互联网。距离向量路由可能会出现环路的情况，规定路径上的最高跳数的目的是为了防止数据报不断循环在环路上，减少网络拥塞的可能性。
5) RIP 默认在任意两个使用 RIP **的路由器之间每 30 秒广播一次** RIP 路由更新信息，以便自动建立并维护路由表 (动态维护)。

## 工作原理：
在我们的 RIP 协议当中，我们采用的算法是：距离向量算法。我们的**距离**定义为：跳步数，每条链路记为一个跳步。也就是说，我们经过的路由数越少越好。

我们**每隔三十秒**，**邻居之间**交换一次 $DV$,成为通告，每一次通告**最多有 15 个目的子网**。也就是我们的**ttl=15**. 因此，我们的 RIP 协议只适用于小型互联网，我们的**ttl=16**时相当于不可达。

![[Pasted image 20240605112422.png]]
其中，我们的 `w,x,y,z` 都是以**IP 地址的形式展现的**。

我们的 RIP 协议**仅和**相邻的路由节点交换我们的路由信息，每一次交换都是交换我们的**路由表**。我们采用**周期性交换**我们的信息。

## 流程：
第一步：刚开始工作时，我们每一个路由器只知道到自己的距离为 1，
第二步：每个路由器仅与相邻路由器周期性的交换我们的路由信息
第三步：若干次交换和更新后，每个路由都知道本 AS 内各网络的最短距离和下一跳地址，称为收敛。

## 更新规则：
![[Pasted image 20240605113903.png]]


![[Pasted image 20240625093508.png]]


之后，我们再在我们的每一个路由表中取 min 即可。