## CS 模型
客户/服务器模型（C/S 模型），我们的服务器保持着时刻开启的状态，我们的客户向我们的服务器发送相关的信息，我们的服务器处理我们的信息后再把我们的对应消息返回个我们的各个客户 (FTP 文件传输，QQ 聊天，远程登陆，电子邮件)
其工作流程如下：

1)服务器处于接收请求的状态。
2)客户机发出服务请求，并等待接收结果。
3)服务器收到请求后，分析请求，进行必要的处理，得到结果并发送给客户机。

客户/服务器模型最主要的特征是：客户是服务请求方，服务器是服务提供方。如 Web 应用程序，其中总是打开的 Web 服务器服务于运行在客户机上的浏览器的请求。当 Web 服务器接收到来自客户机对某对象的请求时，它向该客户机发送所请求的对象以做出响应。

### 特点：
客户/服务器模型的主要特点还有：
1) 网络中各计算机的地位不平等，服务器可以通过对用户权限的限制来达到管理客户机的目的，使它们不能随意存储/删除数据，或进行其他受限的网络活动。整个网络的管理工作由少数服务器担当，因此网络的管理非常集中和方便。

2) 客户机相互之间不直接通信。例如，在 Web 应用中两个浏览器并不直接通信。

3) 可扩展性不佳。受服务器硬件和网络带宽的限制，服务器支持的客户机数有限。

## $P_{2}P$ 模型
不难看出，在 CS 模型中(见图 6.1),服务器性能的好坏决定了整个系统的性能，当大量用户请求服务时，服务器就必然成为系统的瓶颈。P2P 模型(见图 6.2)的思想是整个网络中的传输内容不再被保存在中心服务器上，每个结点都同时具有下载、上传的功能，其权利和义务都是大体对等的。

在 P2P 模型中，各计算机没有固定的客户和服务器划分。相反，任意一对计算机——称为对等方(Peer),直接相互通信。实际上，P2P 模型从本质上来看仍然使用客户 $\prime$ 服务器模式，每个结点既作为客户访问其他结点的资源，也作为服务器提供资源给其他结点访问。当前比较流行的 P2P 应用有 PPlive、Bittorrent 和电驴等。

### 特点：
1) 减轻了服务器的计算压力，**消除了对某个服务器的完全依赖**，可以将任务分配到各个结果点上，因此大大提高了系统效率和资源利用率 (例如，播放流媒体时对服务器的压力过大，而通过 P 2 P 模型，可以利用大量的客户机来提供服务)。
2) 多个客户机之间可以直接共享文档。
3) 可扩展性好，传统服务器有响应和带宽的限制，因此只能接受一定数量的请求。
4) 网络健壮性强，单个结点的失效不会影响其他部分的结点。

## HTTP 怎么与下一层连接
我们的应用层通过我们的 `socket` 与我们的下一层，也就是我们的传输层进行连接。而因此，我们的应用层只需要关心下面的几个点：
1. 我要传输给谁
2. 我要传输什么信息
3. 我是谁

而我们的**我要传输什么信息**，就与我们的**协议相关**，我们的协议规定了我们在取到固定值的时候，表示了什么具体的含义。也就相当于一个**翻译**。例如我们的 HTTP 头中的 X-FORWARDED，就是规定了我们的一个协议。

当然，我们在写自己的聊天软件的时候，也相当于写了一个**小协议！**
