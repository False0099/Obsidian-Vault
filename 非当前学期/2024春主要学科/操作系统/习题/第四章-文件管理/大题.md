## 顺序链接
![[Pasted image 20240623142649.png]]


1）采用连续方式，因为我们的连续方式能够实现我们的随机读取，并且创建新的文件很方便。

2）集中存放好，因为这样的话，我们读取数据的时候，我们不需要移动我们的磁头很久，
![[Pasted image 20240623143559.png]]

## 链式分配：
![[Pasted image 20240623143710.png]]
第一问：我们根据我们的题目中给定的目录文件的要求，我们可以画出我们的最终结果应该是若干个元素 `<文件名，文件第一个簇号>`

![[Pasted image 20240623143839.png]]

第二问：考察**FAT 的结构**，我们的 FAT 由我们的盘块号和下一块组成的。
![[Pasted image 20240623143924.png]]
因为我们说明了我们的下一块占两个字节，也就是 $16bit$,因此，我们就有我们的下一块的范围应该是 $0\to2^{16}-1$,二我们最多的情况下，我们的文件大小就是全部占有，文件大小就是 $2^{16}\times4kb=2^{8}MB$

第三问：我们的 106 号存放在我们的 100 号表快中，我们的 108 存放在 106 号中。

## 索引文件
![[Pasted image 20240623145103.png]]
#### 第一问 ：
第一步：计算我们的总共有多少个块（块号），（总容量除以块大小）
第二步：计算出我们需要多少地址标识我们的块号，（取 log）
第三步：求我们的单个文件的最大长度（我们的最大程度也就是求我们的**文件控制块里有多少项**，而我们的文件控制块中我们的每一项都是直接给出我们的**一个地址**，我们直接除就行了）

#### 第二问 ：
第一步：考察我们的索引表去的内部结构，我们**文件快的最大大小等于我们的文件控制块的项数**，而我们这里有点特殊，我们内部既有连续分配，也有索引分配，最后答案应该是**两者的面积相加**。

于是，我们就可以有：我们的其实块号为 $6 B$,我们的块数有 $2B$,也就是说，我们最多可以有 $2^{2\times8}$ 块作为我们的**连续分配空间**。

那么我们再去考虑我们剩下的 $504B$ 应该怎么去分配，我们注意到我们这里的分配最多只会有 $\frac{504B}{6B}=84$,也就是说，我们最多还有 $84$ 块，

因此，我们的最后的大小就是我们的 $2^{2\times8}+84$ 块。

第二步：因为这种情况下，我们希望我们的长度最大，我们应该平衡我们的**起始块号，块数**占用的位置。也就是说，我们应该尽量**增大块数**。