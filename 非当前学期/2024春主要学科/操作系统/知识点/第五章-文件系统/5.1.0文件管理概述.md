**我们的文件管理可以认为是一种特殊的 IO 管理**，我们除了正常的 IO 管理意外，我们还需要处理我们的**目录管理**，**文件系统**，**物理组织**。
![[Pasted image 20240625221202.png]]

我们的文件管理系统，也就是要位用户和应用程序提供文件使用的一套系统软件。用户和我们的应用程序访问文件的**唯一方式**是通过文件管理系统。同时还需要负责处理我们

这就免除了用户或者程序员为每一个应用程序专门开发软件的必要性，并且为系统提供了一种一致的，定义良好的方法来控制其最重要的资源。

也就是说我们的文件管理，需要在我们的硬盘和我们的用户之间建立一个**管理映射**。帮我们的用户封装**将数据长期存储在我们的硬盘当中，我们的应有的操作有哪些**。从而防止我们的用户**直接查看我们的硬盘中某一块的数据是多少**。
## 目标：
1. 满足数据管理的要求和用户的需求。
2. 最大限度地保证文件中的数据有效。
3. 优化性能,包括总体否吐量(从系统的角度)和响应时间(从用户的角度)。
4. 为各种类型的存储设备提供 IIO 支持
5. 减少或消除丟失或破坏数据的可能性。
6.  向用户进程提供标准接口
7. 在多用户系统中为多个用户提供 IIO 支持。

![[Pasted image 20240625223403.png]]

## 组织：
![[Pasted image 20240625214615.png]]

我们的组织图如下所示：

我们的最底层是我们的一个**驱动程序**，只有通过我们的**驱动程序**，我们才能把我们的信号转变为**外设的信号**。负责处理启动设备上的 IO 操作。（负责将我们的**朴素操作序列，例如把 xxx 移动到 xxx**转换为我们的**外设操作序列，把机枪向左移动 5 cm**）

在网上一层是我们的基本地 I.O 还礼设备，也叫做物理 IO 级别，这个是与计算机外部环境的主要接口，处理磁盘或者磁带交换的数据块（负责我们的**数据缓存**），被认为是操作系统的一部分。负责**向我们的驱动发送命令，将我们的操作系列进行排序**（负责将我们的磁盘调度算法调度策列进行排序，并根据我们的排序将我们的结果一次传递给我们的驱动程序）

我们的再向上一层是我们的逻辑 IO，这个部分负责**提供通用的访问文件的接口，包括我们的 fseek，fopen**等等操作，同时向下**提供我们的操作序列，形如将我们的某个文件内容移动到xxx**。

我们的再向上一层是我们的用户处理，这个部分负责**考虑我们的文件内部的逻辑结构**，使得我们能够搞笑的访问我们的结构，**不同的访问方法反映了不同的文件结构**。

![[Pasted image 20240625223904.png]]
