## 空间划分
我们在我们的 windows 分区的时候，经常会要求我们为我们的磁盘分区，这个时候，我们的一个必要的步骤就是为我们的 windows 进行分区。这个分区其实是我们的**逻辑分区**。

对我们的每一个盘，我们还会**细分为**目录区和文件区。我们的目录区存放**文件目录信息（FCB），用于磁盘的存储空间的管理信息**。也就是说，把我们的块分为下面的两个部分，前面的半个部分**只存储 FCB**，下面的部分**只存储数据**。

## 空间管理
#### 空闲表发：
我们的空闲表，我们的思路就是把我们的剩余的**连续空间**用一个表格的方式存储起来，其中我们的表格中应该存储我们的**起始空间和我们的空间大小**。
![[Pasted image 20240627105051.png]]

#### 空闲链表法：
我们的空闲链表法，就是以盘块为单位组成一条空闲链，我们在组织的时候，会把我们的所有空闲的盘块的地址通过我们的**链**连接在一起，我们的系统保存我们的**链头，链尾**。如果某个文件申请 K 个盘块，那么从链头开始依次摘下 K 个盘块分配。
![[Pasted image 20240627105445.png]]

#### 位视图法：
我们在我们的位视图中，每个二进制位对应一个盘块，在本例中，我们的 0 代表空闲，1 代表已经分配。位视图一般用连续的“字”来表示，

也就是说，我们通过若干个 bitset 来表示我们的最终某一个位置是否被占用，如果被占用，我们的对应位置设置为 1 即可。
![[Pasted image 20240627105740.png]]


分配时，如果我们需要 K 个，那么我们就扫描找到 K 个即可
## 成组连接法
我们前面的空闲分区发，空闲链表法对于我们的**大文件**可能不适用，因为系统表或者我们的空闲链表过大。
