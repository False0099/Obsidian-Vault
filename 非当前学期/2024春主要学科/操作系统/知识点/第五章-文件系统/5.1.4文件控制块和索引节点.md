## 文件属性
文件的属性包括我们的以下的内容，但是我们的各个属性在不同的操作系统中差别很大。但通常都包括下面的属性：
1. 名称：文件名称唯一，以容易读取的形式保存
2. 类型：被支持的不同类型的文件系统所利用
3. 创建者：文件创建者的 ID
4. 所有者：文件当前所有者的 ID
5. 位置：指向设备和设备上文件的指针
6. 大小：文件当前大小，也可包括文件允许的最大值

## 文件控制块
文件控制块 (FCB)是用来存放控制文件需要的各种信息的数据结构，以实现“按名存取”。FCB 的有序集合称为文件目录，一个 FCB 就是一个文件目录项。图 4.1 是一个典型的 FCB。为了创建一个新文件，系统将分配一个 FCB 并存放在文件目录中，称为目录项。
![[Pasted image 20240622161632.png]]

## 索引节点：
在检索目录时，文件的其他描述信息不会用到，也不需要调入内存。因此，有的系统 (如 UNIX, 图 4.2)便采用了**文件名和文件描述信息分开的方法**，使**文件描述信息单独形成**一个称为索引结点的数据结构，简称 i 结点 (inode)。在文件目录中的每个目录项仅由文件名和指向该文件所对应的 i 结点的指针构成。

文件目录通常存放在磁盘上，当文件很多时，文件目录会占用大量的盘块。在查找目录的过程中，要先将存放目录文件的第一个盘块中的目录调入内存，然后用给定的文件名逐一比较，若未找到指定文件，就还需要不断地将下一盘块中的目录项调入内存，逐一比较。

 我们发现，在检索目录的过程中，**只用到了文件名**，仅当找到一个目录项时（其中的文件名与要查找的文件名匹配），才需从该目录项中读出该文件的物理地址。也就是说，在检索目录时，文件的其他描述信息不会用到，也不需要调入内存。因此，有的系统（如 UNIX）便采用了文件名和文件描述信息分开的方法，使文件描述信息单独形成一个称为索引结点的数据结构，简称 i 结点（inode）。在文件目录中的每个目录项仅由文件名和指向该文件所对应的 i 结点的指针构成。
### 磁盘索引结点：
它是指**存放在磁盘上的索引结**点。每个文件有一个唯一的磁盘索引结点,主要包括以下内容:
·文件主标识符，拥有该文件的个人或小组的标识符。
·文件类型，包括普通文件、目录文件或特别文件。
·文件存取权限，各类用户对该文件的存取权限。
·文件物理地址，每个索引结点中含有 13 个地址项，即 iaddr (0)~iaddr (12), 它们以直接或间接方式给出数据文件所在盘块的编号。
·文件长度，指以字节为单位的文件长度。
·文件链接计数，在本文件系统中所有指向该文件的文件名的指针计数。
·文件存取时间，本文件最近被进程存取的时间、最近被修改的时间及索引结点最近被修改的时间。

### 内存索引结点：
它是指存放在内存中的索引结点。当文件被打开时，要将磁盘索引结点复制到内存的索引结点中，便于以后使用。在内存索引结点中增加了以下内容：
·索引结点编号，用于标识内存索引结点。
·状态，指示 i 结点是否上锁或被修改。
·访问计数，每当有一进程要访问此 i 结点时，计数加 1; 访问结束减 1。
·逻辑设备号，文件所属文件系统的逻辑设备号。
· 链接指针，设置分别指向空闲链表和散列队列的指针。
FCB 或索引结点相当于图书馆中图书的索书号，我们可以在图书馆网站上找到图书的索书号，然后根据索书号找到想要的书本。

