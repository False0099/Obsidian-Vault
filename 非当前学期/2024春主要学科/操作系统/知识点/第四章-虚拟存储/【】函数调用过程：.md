假定我们现在有一个函数 `foo`,这个时候，我们的**函数栈帧**正处于 foo 的**调用者**的栈帧，正准备调用 `foo` 函数。
**EBP（栈底指针） 指向本栈帧的帧底**，**ESP 指向本栈帧的帧定**。
![[Pasted image 20240601185952.png]]

其中，我们的**EBP**存储了我们该函数执行完后，我们的**函数栈底应该返回的位置**。而这个位置的重要性，就相当于我们的

第一步：把我们的返回地址，也就是我们当前下一条指令的地址压入到栈中，
![[Pasted image 20240601193441.png]]

第二步：把当前的函数的 ebp 压入到我们的栈中，并**开启属于自己函数的栈帧！**。
![[Pasted image 20240601193632.png]]

第三步：把我们的**参数，局部变量压入到栈中**：
## 退出过程：
第一步：先让我们的 rbp 指针，回到我们的对应的位置，也就是让我们的 rbp 等于我们战中的 ebp 指针的位置。

第二步：我们继续去执行我们的 ret 指令，**为我们的 rip 进行赋值，其中我们的 rip 的执行语句应该是我们的 retaddr**对应的地址中的语句。

第三步：
