## 覆盖：
（应用程序手动把需要的指令和数据放到我们的内存当中，**我们的覆盖是针对同一个程序的，我们的交换是针对我们的多个程序的**）
- 思想：
- 1.对于一个进程，不需要一开始就把程序的全部指令和数据都装入内存再执行。  
- 2.程序划分为若干个功能上相对独立的程序段，按照程序逻辑结构让那些**不需要同时执行**的程序段共享同一块内存区  
- 3.当有关程序段的先头程序段已经执行结束后，再把后续程序段从外存调入内存覆盖前面的程序段
![[Pasted image 20240522221120.png]]
- 内存中分为一个**固定区**和若干个**覆盖区**
    - 需要**常驻内存**的段放在“固定区”中，调入后除运行结束，否则不再调出
    - **不常用**的段放在“覆盖区”，需要用到时调入内存，用不到时调出内存；按照自身逻辑结构，让那些不可能同时被访问的程序段共享同一个覆盖区
- 实现：必须由程序员声明覆盖结构，操作系统完成自动覆盖
- 缺点：对**用户不透明**，增加了用户编程负担
- 应用：只适用于早期的操作系统中，现在已成为历史。

进程正文段要求内存空间：  
A(20K)+B(50K)+F(30K)+C(30K)+D(20K)+E(40K)=190K  
采用覆盖技术，只需110K 的内存空间即可开始执行。
![[Pasted image 20240612161550.png]]
## 交换技术：

操作系统自动把暂时**不能执行的程序保存到外存**中。对象是进程，等待状态的进程驻留内存会造成存储空间的浪费。因此，有必要把处于等待状态的进程换出内存。交换技术是实现此目标的常用方法之一。（我们交换技术的对象是**一系列进程**，而不是单独的一个进程）

- 思想：内存空间紧张时，系统将内存中某些进程暂时换出外存，把外存中某些已具备运行条件的进程换入内存（进程在内存与磁盘间动态调度）
- **中级调度（内存调度）**：决定将哪个处于挂起状态的进程重新调入内存
- 暂时换出外存等待的进程状态为挂起状态(挂起态，suspend)，挂起态细分为就绪挂起、阻塞挂起两种状态  
![在这里插入图片描述](https://img-blog.csdnimg.cn/b3d42626a11f45a9990316f82452b22c.png)


1. 磁盘空间通常分为文件区和对换区两部分
    - 文件区：主要用于存放文件，追求**存储空间的利用率**；因此对文件区空间的管理采用**离散分配方式**
    - 对换区空间只占磁盘空间的小部分，存放**被换出的进程数据**，对换区空间的管理主要**追求换入换出速度**(对换的速度直接影响到系统的整体速度)，因此对换区采用连**续分配方式**；**对换区的I/O速度比文件区的更快**
2. 交换通常在许多进程运行且内存吃紧时进行，而系统负荷降低就暂停
3. 可优先换出**阻塞**进程；可换出**优先级低**的进程；为防止优先级低的进程频繁调入调出，还会考虑进程在**内存的驻留时间**
4. **PCB 会常驻内存**，不会被换出外存

