**检测是我们的最后一道防线**

**我们每一次检测我们的死锁图，就是对于每一个进程，检查我们这一个进程能否从我们的图中删除掉，如果可以的话，那么我们就删除，直到我们的图为空**
## 资源分配图：
我们的死锁检测可以通过我们的资源分配图来表示，我们用我们的源泉代表一个进程，我们用框代表一类资源。有意一种进程遇到的可能有多个，因此我们用框来代表第一类资源中的一个
![[Pasted image 20240327163335.png]]


S 为死锁的条件是当且仅当 S 状态的资源分配图是不可完全简化的,该条件为**死锁定理**。

![[Pasted image 20240507191136.png]]


## 死锁恢复：
1. 资源剥夺法：挂起某些进程，并且抢占他所占有的资源，将这些资源分配给其他的死锁的进程
2. 撤销进程法：强制撤销部分甚至全部进程并剥夺这些进程占有的资源
3. 进程回退法：让一个或者多个进程回退到足以死锁的底部，进程回退时自愿释放资源而非被剥夺。
![[Pasted image 20240507191412.png]]


## 综上所述：
![[Pasted image 20240507191923.png]]
