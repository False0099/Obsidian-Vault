## 处理器运行模式
计算机系统中，通常 CPU 执行两种不同性质的程序：一种是操作系统内核程序；另一种是用户自编程序 (即系统外层的应用程序，或简称“应用程序”)。对操作系统而言，这两种程序的作用不同，前者是后者的管理者，因此“管理程序”(即内核程序)要执行一些特权指令，而“被管理程序”(即用户自编程序)出于安全考虑不能执行这些指令。

特权指令：指不允许用户直接使用的命令，如 I.O 指令，置中断指令，存取用于内存保护的寄存器，送程序状态字到程序状态字寄存器的命令。

非特权指令：指允许用户直接使用的命令，只能够访问用户开辟的 Stack，Heap 空间。不能修改关键寄存器。

**具体实现上**，我们会把 CPU 的运行模式划分为用户态和核心态，可以理解为 CPU 内部有一个小开关，当小开关为 0 的时候，CPU 处于核心态，此时 CPU 可以执行特权指令。

## 操作系统内核：
操作系统的各项功能分别被设置在不同的层次上。一些与硬件关联较紧密的模块，如时钟管理、中断处理、设备驱动等处于最低层。其次是运行频率较高的程序，如进程管理、存储器管理和设备管理等。**这两部分内容构成了操作系统的内核**。这部分内容的指令操作工作在核心态。

内核是计算机上配置的底层软件，它管理着系统的各种资源，可以看作是连接应用程序和硬件的一座桥梁，大多数操作系统的内核包括 4 方面的内容。
1. 时钟管理
2. 中断机制
3. 原语
4. 系统控制的数据结构以及处理

