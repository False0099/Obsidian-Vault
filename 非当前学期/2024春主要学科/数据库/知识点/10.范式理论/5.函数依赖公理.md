[定义11]对于满足一组函数依赖 F 的关系模式 R<U,F>,其任何一个关系 r，若函数依赖 X→Y 都成立(即 r 中任意两元组 t、s,若 t[X]=s[X],则 t[Y]=s[Y]),则称 F 逻辑蕴涵 X $\to Y.$

也就是说，如果我们能够从我们的**原来的函数依赖到处另一个函数依赖**，那么就说**原来的函数依赖逻辑蕴含我们的新的函数依赖**。

## ARMSTRONG 公理系统
**基本规则**
1. 自反律：
若 $Y\in X \in U$,那么 $X\to Y$ 为 $F$ 所蕴含
2. 增广律：
若 $X\to Y$ 为 $F$ 所覆盖，且 $Z\in U$，那么我们可以推导出：$XZ\to YZ$ 为 $F$ 所蕴含。
3. 传递率：
$\text{A3传递律(transitivity rule):￥若 X→Y 及 Y→Z 为 F 所蕴涵,}$
$\\\text{则 X→Z 为 F 所蕴涵。}$

由我们的上述三条**基本规则**，我们可以推导出我们的下面三条**推导规则**。
1. 合并规则：由 $X\to Y,X\to Z$,我们有 $X\to YZ$
2. 伪传递规则：由 $X\to Y,WY\to Z$,我们可以推导出 $WX\to Z$
3. 分解规则：由 $X\to Y,Z\in Y$,我们一定可以推导出 $X\to Z$

## 闭包
【定义12】在关系模式 R<U,F>中为 F 所逻辑蕴涵的函数依赖的全体叫做 $F$ 的闭包，记为 $F^{+}$。

说明：
自反律，传递率，增广律称作 ARMSTRONG 公理系统。
ARMSTRONG 公理系统具有有效性，完备性。任何一个函数依赖都可以通过我们的 ARMSTRONG 公里定义出来。

[定义 13]设 F 为属性集 U 上的一组函数依赖，$X、Y\in U$
$\mathbf{X}_{F}^{+}=\{\mathbf{A}|\mathbf{X}\to\mathbf{A}$ 能由 F 根据 Armstrong 公理导出 $\},\mathbf{X}_{F}^{+}$ 称为**属性集 X 关于函数依赖集 F 的闭包**。（也就是说，通过我们的属性 F，我们能够得到的属性集有哪些）

例如：$(AB)^{+}_{F}$，在我们的 $F(A\to C,B\to D)$ 的时候可以推导出来，我们的 $(AB)^{+}_{F}=(A,B,C,D)$。

### 闭包求法：
第一步：令我们的 $X_{0}=X,i=0$
第二步：求 $B$,在这里我们的 $B$ 表示我们由我们的 $X_{0}$ 中包括的属性，以及我们的 $F$ 的函数依赖能够推导出来的属性有哪些，
第三步：这个时候令我们的 $X_{n}=X_{n-1}\lor B$,然后再去进行我们的第二步：
第四步：如果我们的 $X_{n}=X_{n-1}$,我们直接终止，或者我们的集合已经是我们的全集，我们直接终止。

![[Pasted image 20240628000457.png]]

### 覆盖与闭包：
$[定义14]如果G^+=F^+,就说函数依赖集F覆盖G(F是G的覆盖$
或 G 是 F 的覆盖)、或 F 与 G 等价。
（两个闭包相同，说明两个元素之间等价）


#### 最小覆盖集合：
如果我们的函数依赖 F 满足下面的条件：则称 $F$ 是一个极小函数依赖集，亦称为最小依赖集或最小覆盖
（1）F 中任一函数依赖的右边有且仅有一个属性
（2）F 当中不存在这样的依赖 $X\to A$,使得我们 $F$ 与 $F-\{\ X\to A\}$ 等价
（3）$F$ 中不存在这样的函数依赖，使得 $X$ 有真子集，$Z$ 使得 $F-\{X\to A\}\lor\{Z\to A\}$ 与 F 等价。
![[Pasted image 20240628001829.png]]


### 最小依赖集：
如果有一个函数依赖 $F$,我们能够找到一个**极小函数依赖集**，则称我们的 $F_{m}$ 是我们的 $F$ 的最小依赖集。
![[Pasted image 20240628002021.png]]

## 最小依赖集计算 ：
计算我们的**最小覆盖**的计算，我们应该通过我们的下面的三个步骤（我们的**最小覆盖**要求我们的右侧必须是**单个元素**，我们的**郑则覆盖**则要求我们的右侧必须是最简的）：

第一步：
把右侧分解为单个属性，也就是说，如果我们有 $X\to YZ$,我们就把我们的 $X\to Y,X\to Z$。

第二步：
消除左侧的冗余属性，也就是查看我们的**左侧的 $X$ 能否再被化简**，例如我们的 $XY\to Z$，是否可以把我们的某一个删除了？这一点我们可以通过求我们的**左侧单个属性的闭包来求得，如果闭包包含了我们的右侧元素，我们就认为其中一个属性是多余的**。
![[Pasted image 20240630110220.png]]


第三步：
逐一考察 F 中逐条函数依赖，令 $G=F-\{X\to Y\}$,对 $G$ 求 $X$ 的闭包。如果我们的 $Y\in X^{+}$,说明我们的 $\{X\to Y\}$ 是冗余的，可以删除这一条。如果我们这一题依赖是平凡依赖，我们也删除。最后更新我们的 $F=F-\{X\to Y\}$
![[Pasted image 20240630110227.png]]
第四步：
**合并**我们的现在的所有属性 (若 $X\to Y$, $X\to Z$,则有 $X\to YZ$)。


例如：
我们现在又关系如下：
$ABD\to AC$, $C\to BE$，$AD\to BF$, $B\to E$,

第一步：
把我们的原来的规则拆分为若干个单独的规则：
$ABD\to A,ABD\to C,C\to B,C\to E,AD\to B,AD\to F,B\to E$

第二步：我们注意查找我们原本规则中的项，检查删除这一个项之后，是不是可以被一步求得的。而我们的检查是否可以被求得的，可以通过求**闭包**来进行计算，
$ABD\to A$: $\{ABD\}^{+}=\{ABCDEF\}$,是多余的，直接删除，并更新我们的闭包
$ABD\to C:\{ABD\}^{+}=$ $\{ABD\}$,**不包含 C**，所以我们不删除，必须保留：
$C\to B$: $\{C\}^{+}=\{E\}$，所以我们不删除，必须保留
以此类推，最后计算得到的**顺序可能不同，导致最后结构有差别，但是数目不会有差别**。

![[Pasted image 20240630105831.png]]
