## 基本概念：
模式：模式是对我们的结构和特征的描述，是**型的一个具体描述**，不涉及到我们的具体的值
实例：数据库在某一个时刻的状态，模式的一个**具体值**。同一个模式可以有很多个实例，实例随着数据库的跟新而变动。

![[Pasted image 20240511195632.png]]

![[Pasted image 20240515152019.png]]

![[Pasted image 20240511194912.png]]

## 数据库的模式：
![[Pasted image 20240629173532.png]]
### 三层模式概念：
数据库的**模式**就是说我们对数据库中的数据进行的一种层次性的描述。也就是我们所观察到的数据的**结构信息**。数据库三级模式结构=外模式（User mod）+内模式 (Storage mod)+模式。**其中，我们的外模式可以理解为我们的视图**，我们的模式可以理解为我们的**表格**，我们的内模式就是我们的**文件**。

![[Pasted image 20240511195034.png]]


![[Pasted image 20240307155557.png]]


#### **逻辑模式**
我们的一般的模式，也叫做逻辑模式，指的是我们的数据库中全体数据的逻辑结构和我们的特征的描述。**也就是我们的表格的数量，以及每一个表格的具体内部结构**。我们的逻辑模式，与我们的数据存储的存储细节和硬件环境无关。与具体的应用程序，开发工具，以及高级程序设计语言无关。

![[Pasted image 20240515152346.png]]

#### **外模式**：
也称**子模式**（subschema）或**用户模式**，是数据库用户（包括应用程序员和最终用户）能够看见和使用的局部数据的逻辑结构和特征的描述，是数据库用户的数据视图，是与某一应用有关的数据的逻辑表示。

我们的**外模式**一般是指的是**用户可见的那一部分模式**。因此，我们的外模式通常是模式的子集。一个模式可以有多个外模式，**反映了不同用户的应用需求，看待数据的方式。对数据保密的要求**。

![[Pasted image 20240515152520.png]]


#### **内模式**：
也称存储模式，物理模式（storage schema），它是数据物理结构和存储方式的描述，是数据在数据库内部的表示方式（例如，记录的**存储方式**是顺序存储、按照 b 树结构存储还是按 hash 方法存储；**索引**按照什么方式组织；数据是否**压缩**存储，是否**加密**；数据的存储记录结构有何规定）。

**一个数据库只有一个内模式**


### 两层映像：

我们的三级模式是对我们数据的三个抽象级别，我们的数据库管理系统内部还应该提供两级影响，包括我们**外模式-模式**的影响，**模式-内模式**的影响。

我们的所谓**印象**，其实可以理解为我们的 IP 地址中的协议，我们的一个印象应该要实现我们从某一个部分转换到我们的另一个部分的几乎所有功能。并且要实现我们的三个抽象层的转换。

![[Pasted image 20240511195509.png]]

#### 外模式-模式：
对于每一个外模式，都存在一个由我们的外模式到我们的模式的修改。
我们的应当维护我们的这一级映射以保证：
1. 当我们的模式发生改变时，数据库管理员对外模式-模式的映射要做相应的修改，**保证外模式不变**。
2. 当我们的外模式发生改变的时候，数据库管理员，对**外模式-模式**的映射要做相应的修改，保证


#### 模式-内模式
![[Pasted image 20240515153156.png]]


### 两个独立性：
逻辑数据独立性：当我们的概念模式变化时，**也就是我们的表格发生变化时**，我们可以不改变外部模式，从而无需改变我们的应用模式。也就是我们的**程序和我们的数据是相对分离**的。

物理数据独立性：当我们的内部模式发生变化时，可以不改变我们的概念模式，从而不改变外部模式。
![[Pasted image 20240511195803.png]] 
