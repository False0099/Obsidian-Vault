## 功能
1. 指令控制
完成取指令、分析指令、执行指令的操作。
取指令：自动形成指令地址
分析指令：操作码译码
执行指令：根据分析指令得到的信息形成操作信号控制序列

2. 操作控制
一条指令的功能往往是由若干操作信号的组合来实现的，CPU管理并产生由内存取出的每条指令的操作信号，把各种操作信号送往相应的部件，从而控制这些部件工作

3. 时间控制
对各种操作加以时间上的控制


4. 数据加工
对数据进行算数和逻辑运算

5. 中断处理
对计算机运行过程中的异常情况和特殊请求进行处理。

## 组成：
CPU=运算器+控制器







数据通路：各寄存器之间、寄存器与 ALU 之间传送数据的通路称为数据通路。`OC（操作控制器）` 根据指令的操作码，产生各种操作控制信号，依次选通数据通路所需要的寄存器，存储单元等，建立数据通路，归档了信息传送的开始位置，目标位置，中间位置，中间经过的位置，（路由功能）

基本结构：CPU 内部单总线，CPU 内部多总线，专用数据通路共三种。并且我们产生两种控制信号：`XXout`, `XXin`

建立方法：CPU 内部单总线方式，功能：`(PC)->MAR`，
第一步，我们操作我们的控制信号：`PCOUT`, `MARIN`
第二部，我们产生我们的数据传输：`(PC)->Bus->MAR`


![[Pasted image 20230729224901.png]]



时序产生器和控制方式
	时序：计算机以时序信号为基准完成指令所规定的动作，类似于“日常作息表”
	![[Pasted image 20230729232827.png]]
	![[Pasted image 20230729233014.png]]
	![[Pasted image 20230729233029.png]]
	![[Pasted image 20230729233048.png]]
	![[Pasted image 20230729233149.png]]
	![[Pasted image 20230729233316.png]]
	![[Pasted image 20230729233334.png]]

控制方式
	同步方式
		每条指令占用时间相同![[Pasted image 20230729234327.png]]
	异步方式
		每条指令按需占用时间
		![[Pasted image 20230729234337.png]]
	联合控制（同步异步结合）
		大部分按照同步方式，难的操作，按照异步操作。各条指令的执行长短不同，机器周期不同，但周期节拍相同。

微程序控制器
	1. 规整，灵活，易于更改
		1. 基本思想，用多条微指令解释一条指令的执行过程。从而产生我们需要的全部信号，使相应的部件产生对应的操作。
![[Pasted image 20230731231416.png]]
分类:
相容性操作：同时或在一个 CPU 周期内可以并行执行的微操作
相斥性操作：不能同时或不能在同一个 CPU 周期内并行执行的微操作。 ![[Pasted image 20230729235022.png]]
微指令：微命令的组合，要求能够提供执行步骤的所有信号，并提供下一条待用微指令的地址。

![[Pasted image 20230729235308.png]]
![[Pasted image 20230729235402.png]]


微命令与微操作
微命令---控制部件通过控制线向执行部件发出的命令

微程序控制器![[Pasted image 20230731232135.png]]
	控制存储器（ROM 只读）
	用来存放所有的微指令，**读出并执行**的时间叫做微指令周期（与指令周期相对）
	微指令寄存器
	存放控制存储器中得到的指令
	地址转移逻辑
	一般情况下，由微指令的顺序控制部分直接给出。
	但微程序出现分支时，地址转移完成修改
![[Pasted image 20230731232627.png]]


微程序举例
![[Pasted image 20230731233042.png]]
![[Pasted image 20230731233235.png]]

