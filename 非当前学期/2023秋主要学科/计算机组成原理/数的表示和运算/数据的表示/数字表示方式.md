上一章：[[硬件架构]]
下一章：[[校验方式]]
# 无符号数、有符号数
1. 无符号数就是不带有符号位的数，例如：一个 16 位 2 进制无符号数，表示范围为 0-65535
2. 有符号数指带符号位的数，最左边的位用作符号位，0 为正，1 为负，例如有符号数+00010001 00000000 表示为 0 x 0900, 有符号数-00010001 00000000 表示为 0 x 8900
3. 定点表示：数值范围优先，处理简单
	1. 机器中所有数据的小数点位置固定不变
	2. 不适用记号. 来表示小数点
	3. 定点数可以表示纯小数或纯整数
4. 浮点表示：数值范围很大，但处理过程复杂
5. 十进制表示
	1. 压缩 bcd
	2. 非压缩 bcd

# 无符号数定点表示
## 纯小数
$x_{0} x_{1}\dots x_{n}$

1. $x_{0}$ 表示数的符号，数值 0 正 1 负，其他表示量值
2. 小数点位于 $x_{0}与x_{1}$ 之间
3. 表示范围为 $0\leq|x|\leq 1-2^{-n}$

## 纯整数
$x_{0} x_{1}\dots x_{n}$

1. $x_{0}$ 表示数的符号，数值 0 正 1 负，其他表示量值
2. 小数点位于最低为 $x_{n}$ 的右边
3. 表示范围为 $0\leq|x|\leq2^{n}-1$

# 机器码表示（重要）
1. 在计算机中将数的符号位和数值为一起编码，可以方便数的运算操作
2. 为了区别有符号数和机器中把符号数字化的数，通常将前者称为真值，后者称为机器码、机器数。
3. 常用机器码包括
## 原码
1. 我们的十进制数转换为我们的**二进制原码**的方法：

我们先直接把我们的十进制数转换为我们对应的二进制表示，然后我们的根据我们的符号确定我们的最高位是 0 还是 1，不足的部分，我们用 0 补充即可。
    $x_{原}$ = $\{x\ 0\leq x<1$
	 $\{1-x \ -1<x\leq 0$ 
示例：$X=+0.1001$，$X_{原}=0.1001$ ,
$X=-0.1001$，$X_{原}=1.1001$
$X=+101011$, $X_{原}=00101011$
$X=-101011$，$X_{原}=10101011$
2. 二进制原码转换为我们的**十进制真值**：

我们的最高位为符号位，剩余部分为数值位，如果我们的符号位为 1，那么我们最后是一个负数，否则我们最后是一个正数。

3. **原码转换为补码**：

如果是正数，那么我们的原码就等于我们的补码。如果是负数，我们就把我们的原码分为数值位和符号位两个位置，对于我们的**数值位**，我们采用**按位取反，末尾加一**的规则，符号位，我们不变。
$-15=11111_{原}=10001$。

4. **原码转换为反码**：
如果是正数，那么我们的原码就等于我们的反码，如果是负数，那么我们就把我们的原码分为我们的数值位和我们的符号位两个位置，对于我们的数值位，我们采用按位取反的策略，符号位不变。

5. **原码转换为移码**：
我们先把我们的原码转换为补码，再按照我们的补码转换为移码的思路去进行计算即可。
		优点：表达简单
		缺点：计算复杂
## 补码 （在同余意义下）
1. 由二进制真值表示求补码：
$x_{补}=x  (2^n>x\geq 0)$
$x_{补}=2+x(0\geq x\geq-2^n)$

$X=+0111001$ =$0 0111001$
$X=-0111001$------>$11000111$（除符号位外按位取反再加 1---》补码等于反码+1）
2. 由十进制求补码：
我们先转换为我们的二进制真值，然后再用我们的二进制转换到补码的方法来求我们的对应答案即可。
							
3. 由补码求对应真值：
**第一位权值取为-1，其他位都取 1**, 最后相加的结果就是我们的实际数。![[Pasted image 20230906093058.png]]
4. 由补码求原码：
如果我们的第一位是 0，那么说明我们是一个正数，我们的原码就是我们的补码：
如果我们的第一位是 1. 那么我们就采用**除了符号位以外的数值位按位取反，末尾加一的操作来转换即可**。

5. 由我们的正数补码求我们的负数补码：
我们将我们的符号位修改为我们的 1，然后对于我们的数值位，我们只要采用按位取反，末位加一的操作即可。
$X=+0111001$  $X_{补}=0 0111001$
$X=-0111001$  $X_{补}11000111$

6. 由补码求移码：
我们只要对我们的符号位进行取反即可。
## 反码
1. 由二进制真值求出我们的
如果我们的二进制真值是一个正数，那么我们的反码就等于我们的原码。如果我们的二进制真值是一个负数，那么我们的反码就等于我们的原码除了符号位之外全部按位取反。
$x_{反}=x(1\geq x\geq 0)$
$x_{反}=(2-2^n)+x 0\geq x>-1$

举例：
$X=+0.1011$$\ X_{补}=0.1011$
$X=-0.1011$ $X_{补}=1.0100$ (除符号位外按位取反)
			
2. 由我们的反码求我们的真值：
我们先把我们的反码转换为我们的原码，然后再通过我们的原码去求我们的真值即可。


## 移码
1. 定义
移码就是将每一个数值加上一个偏移值 bias，通常为 n 位二进制整数
$x_{移}=x+2^n-1 (-2^{n-1}\leq x<2^{n-1})$
2. 举例 (假设移码为 4 位)
$X=-7------->[x]=1---->0001$;
$X=+5------>[x]=5+8------>1101$
(移码和补码尾数相同，符号位相反)

## 总结
1. 补码、移码中 0 的值唯一，原码中 0 的值不唯一，反码中 0 的值也不唯一
2. 若 x 为正数，则原、反、补都相同
3. 最高位为符号位
4. 移码与补码尾码相同。符号位相反
5. 补码、反码、移码的符号位在加减运算时视为数值，而原码的符号位必须单独处理


eg. 假定机器字长 16 位，定点表示，尾数 15 位，数字符号 1 位，问 ([[边界值]])：
（1）定点原码整数表示时，最大整数、最小负数各是多少？
（2）定点原码小数表示时，最大整数、最小负数各是多少？
```
定点源码表示最大整数：0111 1111 1111 1111
定点源码表示最小整数：1111 1111 1111 1111

定点原码表示最大小数： 0111 1111 1111 1111
定点原码表示最小小数： 1111 1111 1111 1111
```

**64 位现代计算机中，有符号数都是用补码表示的

题型一：**给定十进制数，求对应的补码、移码、反码、原码**
1. 先用带符号的形式表示我们的数字 A
$(-127)=-(0111111)_{2},-1=-(0000001)_{2},0=(0000000)_{2}$
$(1)=+(0000001)_{2},+127=+(0111111)_{2}$

2. 对于原码：如果是有符号的，我们就把最高位变成我们的 1，如果没有符号，我们的最高位就为 0
$(-127)=(1111111)_{2},-1=(1000001)_{2},0=(0000000)_{2}$
$(1)=(0000001),127=(01111111)_{2}$

3. 对于反码：如果是有负号的，我们就把除符号位外的每一位按位取反，如果没有负号，我们不变，仍然等于初始值
$(-127)=(1000000)_{2},-1=(1111110)_{2},0=(0000000)_{2}$
$(1)=(0000001)_{2},127=(01111111)_{2}$

4. 对于补码：如果是有负号的，我们就在反码的基础上+1，如果是没有负号的，我们就不变，仍然等于初始值
$(-127)=(1000001)_{2},-1=(1111111)_{2},0=(0000000)_{2}$
$(1)=(0000001)_{2},127=(01111111)_{2}$

5. 对于移码：我们只需要在补码的基础上，让符号位反过来即可，无论是整数还是负数
$(-127)=(0000001)_{2},-1=(0111111)_{2},0=(1000000)_{2}$
$(1)=(1000001)_{2},127=(11111111)_{2}$

题型二：求每一个数所能表示的**最大正数，最小负数**，最小整数，最大负数 ([[边界值]])

对于定点**原码**：我们**贪心的让除了符号位外的所有位置都为 1**，因此能表示的最大正数为 $(0111111)$,最大负数为 $(1111111)$,在原码运算规则下，我们能表示的就是+32676，-32676
对于定点**补码**：对于最大负数，**我们贪心的让符号位为 1，其他位全为 0，就能得到我们的最大负数**，-32678。对于最大整数，**我们让符号位位 0，其他位贪心的全为 1**，就能得到我们的最大整数 32677

（新规则，不是 IEEE 格式）对于由 S, E, M 三个域组成的一个 32 位二进制数所表示的非 0 规格化浮点数 x，真值表示为 x= $(-1)^s*(1.M)*2^{E-128}$。于是我们就可以用**贪心的思路**，**最大正数就是符号位位 0，其他位全为 1**，
![[Pasted image 20230906093626.png]]

**最小正数**，就是符号位位 0，小数位全为 0，指数为全为 0
![[Pasted image 20230906093706.png]]

最小负数，就是符号位位 1，其他位全为 1

![[Pasted image 20230906093742.png]]
最大负数，就是符号位为 1，其他位全为 0
![[Pasted image 20230906093829.png]]


# 十进制数表示方法
1. 字符串形式
	1. 一个子节存放以 十进制的数或符号位
2. 压缩的十进制数：一个子节存放两个十进制的数位
	1. 用四位二进制表示一位十进制，16 个编码状态选用其中的 10 个编码
	2. 多种方案：
		1. 8421 码
		2. 余 3 码
		3. 循环码














