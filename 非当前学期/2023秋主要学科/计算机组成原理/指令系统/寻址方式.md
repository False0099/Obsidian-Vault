寻址方式是指寻找指令或操作数有效地址的方式，即确定本条指令的数据地址以及下一条待执行指令的地址的方法。
指令中的地址码字段并不代表操作数的真实地址，我们称为**形式地址**
，**形式地址+寻址方式=真实地址（有效地址）**。
想要得到我们的物理地址，我们还需要将我们的有效地址进行我们的映射，转化为我们的**物理地址**，由有效地址转移到我们的物理地址，需要用到我们的**段寻址**方式
## 操作数（指令）寻址（找下一条待执行指令的地址）
（1）顺序寻址，按照**程序计数器+1**，形成我们下一条指令的地址（PC 直接+1）
![[Pasted image 20230811212834.png]]
变长
![[Pasted image 20230811213222.png]]
（2）**跳跃**寻址：下一条指令的地址计算方式由本条指令给出，而是否跳跃可能受到状态寄存器和操作数的控制，跳跃的地址分为绝对地址和相对地址，条约的结果是当前指令修改 PC 值（先加一，再求该我们的 PC）
![[Pasted image 20230811213423.png]]
## 数据寻址 （确定本条指令的地址码指明的真实地址）：
### 相关术语
1. 形式地址：指令字中的地址码，也叫做偏移量
2. EA 地址：有效地址，操作数真正的地址
3. 寻址方式：使用形式地址得到 EA 地址的方法

### 相关方法
1. 隐含寻址
	指令字中补明显的给出操作数的地址，其操作数的地址隐含在操作码或某个寄存器中，例如一地址格式的加法指令只给出一个操作数的地址，另一个操作数隐含在累加器 ACC 中，这样累加器就成了另一个数的地址。（EA 地址=程序指定）
![[Pasted image 20230811215532.png]]

2. 立即寻址
指令的地址字段给出的不是操作数的地址，而是操作数本身，也被叫做立即数地址字段不是一个地址，而是一个操作数，数据以补码形式存放 （A 就是操作数）
优点：只要取出指令就能立即得到操作数，不必再访问存储器。
缺点：操作数的位数限制了立即数的范围 
![[Pasted image 20230728002828.png]]

3. 直接寻址：
在指令的地址字段中直接指出操作数的地址，指令字中的形式地址 A 就是操作数的真实地址 EA （EA=形式地址）
优点：寻找操作数比较简单，只访问一次主存
缺点：A 的位数限制了操作数的寻址范围，而且必须修改 A 的值，才能修改操作数的地址
![[Pasted image 20230728002955.png]]

4. 间接寻址
在指令的地址地段中的形式地址 A 不是操作数的地址，而是操作数有效地址所在的存储单元的地址。也就是说有效地址是由形式地址间接提供的。（EA=形式地址中的内容） 
优点：扩大了操作数的寻址范围，因为 A 的位数通常小于指令字长，而存储字长可以与指令字长相等，同时也便于变址程序，易于实现。
缺点：要访问两次或多次，致使指令执行时间延长 ![[Pasted image 20230728003154.png]]

5. 寄存器寻址
指令的地址字段中给出的操作数地址是 CPU 通用寄存器的编号。因为操作数不在主存中，寄存器寻址在执行阶段不需要访存，减少了执行时间。 （EA=形式地址（寄存器的编号））![[Pasted image 20230728003315.png]]

6. 寄存器间接寻址
寄存器间接寻址是指在寄存器中给出的不是一个操作数，而是操作数所在主存单元的地址，即 $EA=寄存器中对应的数据$,
![[Pasted image 20230928132455.png]]

7. 相对寻址(转移指令，程序内部浮动)
将**程序计数器** PC 的内容（当前指令的地址）与指令字中的形式地址 A 相加而成，即 （EA=PC+形式地址）。常用于转移地址类指令。 
![[Pasted image 20230728003805.png]] ![[Pasted image 20230728003816.png]]
8. 基址寻址（多道程序，**基址寄存器理解为栈底指针**）：
基址寻址需要设有**基址寄存器（不能被人操作）** BR，其操作数的有效地址等于指令字中的形式地址与基址寄存器中的内容（基地址）相加，即 **EA=基址寄存器中的数据+形式地址**。其中基址寄存器可采用隐式或显式两种，其中 BR 指明了我们的寄存器（**专门用几个 bit 写位置**）或者是专用寄存器（重定位寄存器），而 BR 有多少位则需要根据通用寄存器总数判断
优点：扩大操作数的心智范围，因为基址寄存器的位数可以大于形式地址 A 的位数。常用于多道程序。主要用于为程序或数据分配存储空间，所以基址寄存器的内容通常由操作系统或管理程序确定，在程序的指令过程中是不可变 BR 的。 ![[Pasted image 20230728101612.png]]
9. 变址寻址（循环程序，缩短我们的对应的长度，）
将 CPU 中变址寻址寄存器（**程序员可修改，一般被视为一个偏移量**）的内容加上指令格式中的偏移量得到有效操作数的地址，与基址寻址类似，但区别是变址寄存器中（**可能是专用，可能是通用**）的内容自动递增递减（主要运用于我们的 for 循环当中）
	![[Pasted image 20230728104444.png]] ![[Pasted image 20230811222211.png]]
由用户输入的内容，在程序执行过程中他的值可以变，而指令字中的 A 是不可变的。变址寻址主要用于处理数组问题，在数组处理过程中，可设定 A 为数组的首地址，不断改变变址寄存器 IX 的内容，便可很容易形成数组中任一数据的地址

10. 堆栈寻址
堆栈是存储器中一块特定的，按后进先出原则管理的存储区，该存储区中读/写单元的地址使用一个特定的寄存器给出的，称为栈顶指针。堆栈又分为硬堆栈和软堆栈两种。寄存器堆栈又称硬堆栈，成本高，我们一般采用软对战。

